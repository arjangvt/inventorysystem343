<!doctype html>
<script>
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
</script>
<script>


	function getUserInput()
	{
		var password = document.getElementById("txtPassword").value;
		getUserCredential(password);
	}

	function getUserCredential(password)
	{
		let request = new XMLHttpRequest();
		url = "http://localhost:8000/users/" + password;
		request.open("GET", url);
		request.send();
		request.onload = () => {
			if (request.status == 200) {

				var data = JSON.parse(request.response);

				if (data[0] != null)
				{
					pw = data[0].Password;
					if (pw == password)
					{
						//alert("I am here");
						location.replace('http://localhost:8000/html');
					}
				}
				else
					document.getElementById("lblMessage").innerHTML = "The password is incorrect!";
			}else{
				alert("Error");
				console.log("Error");
			}
		
		}
	}
</script>


<html lang="en">
	<head>
		<title>Inventory System</title>
	</head>

	<body>
		<h1>Welcome to the Inventory System!</h1>
		<label for="password"> Password </label>
		<input type="text"  id="txtPassword"/>
		<input type="submit" onclick="getUserInput()"/>
		<label id="lblMessage" style="color:red;"/>
	</body>
	<br>
	<a href="">Register New User</a>
</html>
